<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://fizzyi.github.io</id>
    <title>Fizzyiçš„åƒåœ¾æ¡¶</title>
    <updated>2023-02-27T10:17:01.783Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://fizzyi.github.io"/>
    <link rel="self" href="https://fizzyi.github.io/atom.xml"/>
    <subtitle>é€æ¸ç§ƒå¤´çš„ç¨‹åºå‘˜</subtitle>
    <logo>https://fizzyi.github.io/images/avatar.png</logo>
    <icon>https://fizzyi.github.io/favicon.ico</icon>
    <rights>All rights reserved 2023, Fizzyiçš„åƒåœ¾æ¡¶</rights>
    <entry>
        <title type="html"><![CDATA[Java  Iterator è¿­ä»£å™¨çŸ¥è¯†ç‚¹]]></title>
        <id>https://fizzyi.github.io/post/java-iterator-die-dai-qi-zhi-shi-dian/</id>
        <link href="https://fizzyi.github.io/post/java-iterator-die-dai-qi-zhi-shi-dian/">
        </link>
        <updated>2023-02-27T03:23:56.000Z</updated>
        <content type="html"><![CDATA[<p>Java Iterator ä¸æ˜¯ä¸€ä¸ªé›†åˆï¼Œæ˜¯ä¸€ç§è®¿é—®é›†åˆçš„æ–¹æ³•ï¼Œå¯ä»¥ç”¨äºè¿­ä»£ArrayList å’ŒHashSetç­‰é›†åˆã€‚<br>
ä¸‰ä¸ªåŸºæœ¬æ“ä½œ</p>
<ul>
<li>it.next()ï¼šè¿”å›è¿­ä»£å™¨çš„ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶ä¸”æ›´æ–°è¿­ä»£å™¨çš„çŠ¶æ€ã€‚</li>
<li>it.hasNext() ï¼šç”¨äºæ£€æµ‹é›†åˆä¸­æ˜¯å¦è¿˜æœ‰å…ƒç´ </li>
<li>it.remove()ï¼šå°†è¿­ä»£å™¨è¿”å›çš„å…ƒç´ åˆ é™¤</li>
</ul>
<pre><code class="language-java">import java.util.ArrayList;
import java.util.Iterator;

public class RunoobTest {
    public static void main(String[] args) {

        // åˆ›å»ºé›†åˆ
        ArrayList&lt;String&gt; sites = new ArrayList&lt;String&gt;();
        sites.add(&quot;Google&quot;);
        sites.add(&quot;Runoob&quot;);
        sites.add(&quot;Taobao&quot;);
        sites.add(&quot;Zhihu&quot;);

        // è·å–è¿­ä»£å™¨
        Iterator&lt;String&gt; it = sites.iterator();

        // è¾“å‡ºé›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ 
        while(it.hasNext()) {
            System.out.println(it.next());
        }
    }
}


</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ä¸Šä¼ æœ¬åœ°é¡¹ç›®åˆ°github]]></title>
        <id>https://fizzyi.github.io/post/shang-chuan-ben-di-xiang-mu-dao-github/</id>
        <link href="https://fizzyi.github.io/post/shang-chuan-ben-di-xiang-mu-dao-github/">
        </link>
        <updated>2023-02-24T07:47:37.000Z</updated>
        <content type="html"><![CDATA[<h1 id="ä¸€-æ­¥éª¤">ä¸€ã€æ­¥éª¤</h1>
<p>ï¼ˆ1ï¼‰è¿›å…¥åˆ°é¡¹ç›®çš„æ ¹ç›®å½•ï¼Œæ‰§è¡Œ<code>git init</code> è¿›è¡Œåˆå§‹åŒ–ã€‚<br>
ï¼ˆ2ï¼‰æ‰§è¡Œ <code>git add .</code> æŠŠé¡¹ç›®æ·»åŠ åˆ°ä»“åº“ã€‚<br>
ï¼ˆ3ï¼‰æ‰§è¡Œ <code>git commit -m &quot;init&quot;</code>æŠŠé¡¹ç›®æäº¤åˆ°ä»“åº“<br>
ï¼ˆ4ï¼‰githubæ–°å»ºä¸€ä¸ªé¡¹ç›®ï¼Œ<br>
ï¼ˆ5ï¼‰æ‰§è¡Œ <code>git remote add origin https://&lt;your_token&gt;@github.com/&lt;USERNAME&gt;/&lt;REPO&gt;.git</code>ã€‚<br>
psï¼šæ³¨æ„ï¼Œè¿™é‡Œçš„your tokenä¸æ˜¯githubçš„å¯†ç ï¼Œæ˜¯githubçš„ä¸ªäººè®¿é—®ä»¤ç‰Œï¼ˆpersonal access tokenï¼‰ã€‚<br>
ï¼ˆ6ï¼‰æ‰§è¡Œ<code>git branch -M main</code><br>
ï¼ˆ7ï¼‰æ‰§è¡Œ <code>git push -u origin main</code></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[MyBatis Mapperç¬”è®°]]></title>
        <id>https://fizzyi.github.io/post/mybatis-mapper-bi-ji/</id>
        <link href="https://fizzyi.github.io/post/mybatis-mapper-bi-ji/">
        </link>
        <updated>2023-02-23T06:28:57.000Z</updated>
        <content type="html"><![CDATA[<h1 id="ä¸€-åŸºç¡€çŸ¥è¯†">ä¸€ã€åŸºç¡€çŸ¥è¯†</h1>
<ul>
<li>statementæ ‡ç­¾ï¼šselectã€updateã€deleteã€insert åˆ†åˆ«å¯¹åº”æŸ¥è¯¢ï¼Œæ›´æ–°ï¼Œåˆ é™¤ï¼Œæ·»åŠ æ“ä½œ</li>
<li>parameterTypeï¼šå‚æ•°æ•°æ®ç±»å‹</li>
<li>resultTypeï¼šè¿”å›å‚æ•°ç±»å‹</li>
<li>id:æ–¹æ³•åï¼Œé€šè¿‡IDå’Œdaoæ–‡ä»¶ä¸­çš„æ–¹æ³•è¿›è¡Œç»‘å®š<br>
ä½¿ç”¨å‚æ•°</li>
<li>ä½¿ç”¨å‚æ•°åï¼š #{username}ï¼Œ#{id}</li>
<li>ä½¿ç”¨ä¸‹æ ‡ï¼š#{arg0}ï¼Œ#{arg1}</li>
</ul>
<p>å¦‚æœpojoä¸­çš„å­—æ®µåå’Œæ•°æ®åº“ä¸­çš„å­—æ®µåä¸ä¸€è‡´æ—¶ï¼Œå¯ä»¥ä½¿ç”¨as  æ•°æ®åº“çš„å­—æ®µå as pojoä¸­çš„å­—æ®µå</p>
<pre><code>&lt;select id=&quot;getProduct&quot; parameterType=&quot;long&quot; resultType=&quot;product&quot;&gt;
    select id,product_name as ProductName,stock,price,version,note from T_Product where id=#{id}
&lt;/select&gt;
</code></pre>
<h1 id="äºŒ-parametertype">äºŒã€parameterType</h1>
<p>æŒ‡å®šè¾“å…¥å‚æ•°ç±»å‹ï¼Œmybatisé€šè¿‡ognä»è¾“å…¥å¯¹è±¡ä¸­è·å–å‚æ•°å€¼æ‹¼æ¥åœ¨sqlä¸­ã€‚</p>
<h2 id="21-ä¼ é€’ç®€å•ç±»å‹ä½¿ç”¨å ä½ç¬¦-æˆ–è€…è¿›è¡Œsqlæ‹¼æ¥">2.1 ä¼ é€’ç®€å•ç±»å‹ï¼Œä½¿ç”¨#{}å ä½ç¬¦ æˆ–è€…${}è¿›è¡Œsqlæ‹¼æ¥</h2>
<pre><code class="language-java">&lt;!-- æ ¹æ®ç”¨æˆ·idæŸ¥è¯¢ç”¨æˆ·
1.idå¿…é¡»å’ŒMapperæ¥å£æ–¹æ³•åä¸€è‡´
2.parameterTypeå¿…é¡»å’Œæ¥å£æ–¹æ³•å‚æ•°ä¸€è‡´
3.resultTypeå¿…é¡»å’Œæ¥å£æ–¹æ³•è¿”å›å€¼ç±»å‹ä¸€è‡´
--&gt;
&lt;select id=&quot;queryUserById&quot; parameterType=&quot;int&quot; resultType=&quot;com.sfwu15.pojo.User&quot;&gt;
    SELECT * FROM `user` WHERE id=#{id}
&lt;/select&gt;
&lt;!-- æ ¹æ®ç”¨æˆ·åç§°æ¨¡ç³ŠæŸ¥è¯¢ç”¨æˆ· --&gt;
&lt;select id=&quot;queryUserByUserName&quot; parameterType=&quot;string&quot; resultType=&quot;com.sfwu15.pojo.User&quot;&gt;
    SELECT * FROM `user` WHERE username='%${value}%'
&lt;/select&gt;
</code></pre>
<h1 id="ä¸‰-å¼•ç”¨sqlç‰‡æ®µ">ä¸‰ã€å¼•ç”¨SQlç‰‡æ®µ</h1>
<p>(1)  å®šä¹‰sqlç‰‡æ®µï¼Œå‘½åID ï¼ˆ2ï¼‰ä½¿ç”¨include å¼•ç”¨ç‰‡æ®µã€‚</p>
<pre><code class="language-xml">// å®šä¹‰sqlç‰‡æ®µ

&lt;sql id=&quot;orderAndItem&quot;&gt;  
    o.order_id,o.cid,o.address,o.create_date,o.orderitem_id,i.orderitem_id,i.product_id,i.count  
  &lt;/sql&gt; 

// å¼•ç”¨sqlç‰‡æ®µ

 &lt;select id=&quot;findOrderAndItemsByOid&quot; parameterType=&quot;java.lang.String&quot; resultMap=&quot;BaseResultMap&quot;&gt;  
    select  
    &lt;include refid=&quot;orderAndItem&quot; /&gt;  
    from ordertable o  
    join orderitem i on o.orderitem_id = i.orderitem_id  
    where o.order_id = #{orderId}  
  &lt;/select&gt;  
</code></pre>
<h1 id="å››-åŠ¨æ€è¯­å¥æ ‡ç­¾">å››ã€åŠ¨æ€è¯­å¥æ ‡ç­¾</h1>
<ul>
<li>&lt;where&gt; :ä½¿ç”¨å…¶å¯ä»¥ä»£æ›¿sqlè¯­å¥ä¸­çš„whereå…³é”®å­—ï¼Œä¸€èˆ¬æ”¾ç½®åœ¨æ¡ä»¶æŸ¥è¯¢çš„æœ€å¤–å±‚ã€‚</li>
<li>&lt;if&gt;: æ¡ä»¶åˆ¤æ–­æ ‡ç­¾ï¼Œé…ç½®å±æ€§test=&quot; æ¡ä»¶å­—ç¬¦ä¸² &quot;ï¼Œåˆ¤æ–­æ˜¯å¦æ»¡è¶³æ¡ä»¶ï¼Œæ»¡è¶³åˆ™æ‰§è¡Œï¼Œä¸æ»¡è¶³åˆ™è·³è¿‡</li>
</ul>
<h1 id="äº”-resultmapæ ‡ç­¾">äº”ã€resultMapæ ‡ç­¾</h1>
<p>ä¸»è¦æ˜¯è§£å†³å®ä½“ç±»ä¸­å±æ€§å’Œè¡¨å­—æ®µåä¸ç›¸åŒçš„é—®é¢˜ï¼Œå¦‚æœç›¸åŒï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ resultTypeã€‚<br>
ä½¿ç”¨æ­¥éª¤ä¸ºï¼šï¼ˆ1ï¼‰å®šä¹‰resultMapæ ‡ç­¾ ï¼ˆ2ï¼‰åœ¨selectæ ‡ç­¾ä¸­æŠŠresultTypeæ¢æˆresultMapå±æ€§ã€‚</p>
<h2 id="æ­¥éª¤ä¸€">æ­¥éª¤ä¸€</h2>
<pre><code class="language-xml">&lt;resultMap id=&quot;SelectedCourseInfo&quot; type=&quot;com.study.sutdentmanager.pojo.SelectedCourse&quot;&gt;
    &lt;result column=&quot;id&quot; property=&quot;id&quot;/&gt;
    &lt;result column=&quot;student_id&quot; property=&quot;studentId&quot;/&gt;
    &lt;result column=&quot;course_id&quot; property=&quot;courseId&quot;/&gt;
&lt;/resultMap&gt;
</code></pre>
<ul>
<li>idï¼šè¡¨ç¤ºå½“å‰resultMapæ ‡ç­¾çš„å”¯ä¸€æ ‡è¯†</li>
<li>result å®šä¹‰è¡¨å­—æ®µå’Œå®ä½“ç±»å±æ€§çš„å¯¹åº”å…³ç³»</li>
<li>propertyï¼šè®°å½•å®ä½“ç±»çš„å±æ€§</li>
<li>columnï¼šè®°å½•è¡¨çš„å­—æ®µåç§°</li>
<li>typeï¼šæŒ‡å‘å“ªä¸ªpojo</li>
</ul>
<h1 id="å…­-mybatisçš„foreachè¯­å¥">å…­ã€MyBatisçš„foreachè¯­å¥</h1>
<p>ä¸»è¦ç”¨äºæ„å»ºinæ¡ä»¶ä¸­ï¼Œå¯ä»¥åœ¨sqlè¯­å¥ä¸­è¿›è¡Œè¿­ä»£ä¸€ä¸ªé›†åˆ<br>
ä¸»è¦å±æ€§æœ‰ï¼š</p>
<ul>
<li>itemï¼šè¡¨ç¤ºé›†åˆä¸­æ¯ä¸€ä¸ªå…ƒç´ è¿›è¡Œè¿­ä»£æ—¶çš„åˆ«å</li>
<li>indexï¼šæŒ‡å®šä¸€ä¸ªåå­—ï¼Œç”¨äºè¡¨ç¤ºåœ¨è¿­ä»£è¿‡ç¨‹ä¸­ï¼Œæ¯æ¬¡è¿­ä»£åˆ°çš„ä½ç½®</li>
<li>open ï¼šè¡¨ç¤ºè¯¥è¯­å¥ä»¥ä»€ä¹ˆå¼€å§‹</li>
<li>close ï¼š è¡¨ç¤ºä»¥ä»€ä¹ˆç»“æŸ</li>
<li>collection
<ul>
<li>å¦‚æœä¼ å…¥çš„æ—¶å•å‚æ•°ä¸”å‚æ•°ç±»å‹æ˜¯ä¸€ä¸ªListçš„æ—¶å€™ï¼Œcollectionçš„å±æ€§ä¸ºlist<pre><code class="language-xml">&lt;select id=&quot;dynamicForeachTest&quot; resultType=&quot;Blog&quot;&gt;
select * from t_blog where id in
&lt;foreach collection=&quot;list&quot; index=&quot;index&quot; item=&quot;item&quot; open=&quot;(&quot; separator=&quot;,&quot; close=&quot;)&quot;&gt;
    #{item}
&lt;/foreach&gt;
&lt;/select&gt;
</code></pre>
</li>
<li>å¦‚æœä¼ å…¥çš„æ˜¯å•å‚æ•°ä¸”å‚æ•°ç±»å‹æ˜¯ä¸€ä¸ªarrayæ•°ç»„çš„æ—¶å€™ï¼Œcollectionçš„å±æ€§ä¸ºarray<pre><code class="language-xml">&lt;select id=&quot;dynamicForeach2Test&quot; resultType=&quot;Blog&quot;&gt;
select * from t_blog where id in
&lt;foreach collection=&quot;array&quot; index=&quot;index&quot; item=&quot;item&quot; open=&quot;(&quot; separator=&quot;,&quot; close=&quot;)&quot;&gt;
    #{item}
&lt;/foreach&gt;
</code></pre>
</li>
</ul>
</li>
</ul>
</select>
        ```
    - å¦‚æœä¼ å…¥çš„å‚æ•°æ˜¯å¤šä¸ªçš„æ—¶å€™ï¼Œéœ€è¦æŠŠå®ƒä»¬å°è£…æˆä¸€ä¸ªMapã€‚
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Java SpringMVC]]></title>
        <id>https://fizzyi.github.io/post/java-springmvc/</id>
        <link href="https://fizzyi.github.io/post/java-springmvc/">
        </link>
        <updated>2023-02-21T06:05:49.000Z</updated>
        <content type="html"><![CDATA[<h1 id="ä¸€-æœ€ç®€å•çš„ä¸€ä¸ªæœåŠ¡">ä¸€ã€æœ€ç®€å•çš„ä¸€ä¸ªæœåŠ¡</h1>
<pre><code class="language-java">@Controller
@RequestMapping(&quot;/user&quot;)
public class UserController {
    //æ³¨å…¥ç”¨æˆ·æœåŠ¡ç±»
    @Autowired
    private UserService userService = null;

    //å±•ç¤ºç”¨æˆ·è¯¦æƒ…
    @RequestMapping(&quot;details&quot;)
    public ModelAndView details(Long id){
        //è®¿é—®æ¨¡å‹å±‚å¾—åˆ°æ•°æ®
        User user = userService.getUser(id);
        //æ¨¡å‹å’Œè§†å›¾
        ModelAndView mv = new ModelAndView();
        //å®šä¹‰æ¨¡å‹è§†å›¾
        mv.setViewName(&quot;user/details&quot;);
        //åŠ å…¥æ•°æ®æ¨¡å‹
        mv.addObject(&quot;user&quot;,user);
        //è¿”å›æ¨¡å‹å’Œè§†å›¾
        return mv;
    }
}
</code></pre>
<p>åœ¨applicationæ–‡ä»¶ä¸­å®šåˆ¶InternalResourceViewResolveråˆå§‹åŒ–</p>
<pre><code>spring.mvc.view.prefix=/WEB-INF/jsp/
spring.mvc.view.suffix=.jsp
</code></pre>
<p>é€šè¿‡è¿™ä¸ªåˆå§‹åŒ–ï¼Œåœ¨è¿”å›è§†å›¾åç§°ä¹‹åï¼Œå®ƒä¼šä»¥å‰ç¼€ï¼ˆprefixï¼‰+è§†å›¾åç§°+åç¼€ï¼ˆsuffixï¼‰ç»„æˆå…¨è·¯å¾„å®šä½è§†å›¾ã€‚<br>
ä¾‹å¦‚ä¸Šæ–‡ä¸­çš„å…¨è·¯å¾„ä¸º/webapp/WEB-INF/jsp/user/details.jsp</p>
<pre><code class="language-jsp">&lt;%@ page pageEncoding=&quot;UTF-8&quot;%&gt;
&lt;%@ taglib prefix=&quot;c&quot; uri =&quot;http://java.sun.com/jsp/jstl/core&quot;%&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;ç”¨æˆ·è¯¦æƒ…&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;table border=&quot;1&quot;&gt;
    &lt;tr&gt;&lt;td&gt;æ ‡ç­¾&lt;/td&gt;&lt;td&gt;å€¼&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;ç”¨æˆ·æ ‡ç­¾&lt;/td&gt;&lt;td&gt;&lt;c:out value=&quot;${user.id}&quot;&gt;&lt;/c:out&gt;&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;ç”¨æˆ·åç§°&lt;/td&gt;&lt;td&gt;&lt;c:out value=&quot;${user.userName}&quot;&gt;&lt;/c:out&gt;&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;ç”¨æˆ·å¤‡æ³¨&lt;/td&gt;&lt;td&gt;&lt;c:out value=&quot;${user.note}&quot;&gt;&lt;/c:out&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>é€šè¿‡${user.id}æ¥è·å–å¯¹åº”çš„å±æ€§ã€‚</p>
<h1 id="äºŒ-å¤„ç†å™¨æ˜ å°„">äºŒã€å¤„ç†å™¨æ˜ å°„</h1>
<p>@RequestMapping<br>
@GetMappingï¼šGETæ–¹æ³•<br>
@PostMappingï¼šPostæ–¹æ³•</p>
<h1 id="ä¸‰-è·å–æ§åˆ¶å™¨å‚æ•°">ä¸‰ã€è·å–æ§åˆ¶å™¨å‚æ•°</h1>
<h2 id="31getè¯·æ±‚å¹¶ä¸”æ— æ³¨è§£çš„æƒ…å†µä¸‹è·å–å‚æ•°">3.1getè¯·æ±‚å¹¶ä¸”æ— æ³¨è§£çš„æƒ…å†µä¸‹è·å–å‚æ•°</h2>
<p>å‚æ•°å…è®¸ä¸ºç©ºï¼Œè¦æ±‚æ˜¯å‚æ•°åç§°å’ŒHTTPè¯·æ±‚çš„å‚æ•°åç§°ä¿æŒä¸€è‡´</p>
<pre><code class="language-java">@GetMapping(&quot;/no/annotation&quot;)
@ResponseBody
public Map&lt;String, Object&gt; noAnnotation(Integer intVal, Long longVal, String str) {
    Map&lt;String, Object&gt; paramsMap = new HashMap&lt;&gt;();
    paramsMap.put(&quot;intval&quot;, intVal);
    paramsMap.put(&quot;longVal&quot;, longVal);
    paramsMap.put(&quot;str&quot;, str);
    return paramsMap;
}
</code></pre>
<p>è®¿é—®çš„åœ°å€ä¸ºï¼š127.0.0.1:8090/my/no/annotation?intVal=10&amp;longVal=20</p>
<h2 id="32-ä½¿ç”¨requestparamè·å–å‚æ•°">3.2 ä½¿ç”¨@RequestParamè·å–å‚æ•°</h2>
<p>å…è®¸å‰åç«¯çš„å‘½åè§„åˆ™ä¸ä¸€æ ·ï¼Œä½¿ç”¨è¯¥æ³¨è§£æ¥ç¡®å®šå‰åç«¯åç§°çš„æ˜ å°„å…³ç³».é»˜è®¤æƒ…å†µä¸‹ä¸èƒ½ä¸ºç©ºï¼Œå¯ä»¥é€šè¿‡é…ç½®å±æ€§required=falseä¸ºç©ºã€‚</p>
<pre><code class="language-java">@GetMapping(&quot;/annotation&quot;)
@ResponseBody
public Map&lt;String, Object&gt; annotation(@RequestParam(&quot;int_val&quot;) Integer intVal,
                                        @RequestParam(&quot;long_val&quot;) Long longVal,
                                        @RequestParam(value = &quot;str_val&quot;, required = false) String strVal) {
    Map&lt;String, Object&gt; paramsMap = new HashMap&lt;&gt;();
    paramsMap.put(&quot;intval&quot;, intVal);
    paramsMap.put(&quot;longVal&quot;, longVal);
    paramsMap.put(&quot;str&quot;, strVal);
    return paramsMap;

    }
</code></pre>
<p>è®¿é—®çš„åœ°å€ä¸ºï¼š127.0.0.1:8090/my/annotation?int_val=10&amp;long_val=20</p>
<h2 id="33-è·å–jsonæ•°æ®">3.3 è·å–JSONæ•°æ®</h2>
<p>ä½¿ç”¨@RequestBodyå¯¹æ–¹æ³•çš„å‚æ•°è¿›è¡Œæ ‡æ³¨ï¼ŒJSONè¯·æ±‚é¢˜ä¸Userç±»ä¹‹é—´çš„å±æ€§åç§°æ˜¯ä¿æŒä¸€è‡´çš„ã€‚è¿™æ ·Spring MVCå°±ä¼šé€šè¿‡è¿™å±‚æ˜ å°„å…³ç³»å°†JSONè¯·æ±‚ä½“è½¬æ¢ä¸ºUserå¯¹è±¡ã€‚</p>
<pre><code class="language-java">@PostMapping(&quot;/insert&quot;)
@ResponseBody
public User insert(@RequestBody User user){
    userService.insertUser(user);
    return user;
}
</code></pre>
<h2 id="34-é€šè¿‡urlä¼ é€’å‚æ•°">3.4 é€šè¿‡URLä¼ é€’å‚æ•°</h2>
<p>é€šè¿‡@GetMappingæŒ‡å®šä¸€ä¸ªURLï¼Œç”¨{...}è¡¨æ˜å‚æ•°çš„ä½ç½®å’Œåç§°ã€‚é€šè¿‡å¤„ç†å™¨æ˜ å°„å’Œæ³¨è§£@PathVariableçš„ç»„åˆè·å–URLå‚æ•°ã€‚é¦–å…ˆé€šè¿‡å¤„ç†å™¨æ˜ å°„å¯ä»¥å®šä½å‚æ•°çš„ä½ç½®å’Œåç§°ï¼Œç„¶åé€šè¿‡@PathVariableé€šè¿‡åç§°è·å–å‚æ•°ã€‚</p>
<pre><code class="language-java">@GetMapping(&quot;/{id}&quot;)
@ResponseBody
public User get(@PathVariable(&quot;id&quot;) Long id){
    return userService.getUser(id);
}
</code></pre>
<p>è®¿é—®çš„åœ°å€ä¸ºï¼š127.0.0.1:8090/users/1</p>
<h1 id="å››-æ•°æ®éªŒè¯">å››ã€æ•°æ®éªŒè¯</h1>
<p>Spring MVCæä¾›äº†éªŒè¯å‚æ•°çš„æœºåˆ¶ï¼Œä¸€æ–¹é¢ï¼Œæ”¯æŒJSR-303æ³¨è§£éªŒè¯ï¼Œå¦ä¸€æ–¹é¢ä¹Ÿå¯ä»¥è‡ªå®šä¹‰éªŒè¯è§„åˆ™ã€‚</p>
<h2 id="41-æ–¹æ³•ä¸€-jsr-303éªŒè¯">4.1 æ–¹æ³•ä¸€ã€JSR-303éªŒè¯</h2>
<p>ä¸»è¦æ˜¯é€šè¿‡æ³¨è§£çš„æ–¹å¼è¿›è¡Œçš„ã€‚</p>
<pre><code class="language-java">package com.springboot.chapter10.pojo;

import org.hibernate.validator.constraints.Range;
import org.springframework.format.annotation.DateTimeFormat;

import javax.validation.constraints.*;
import java.util.Date;

public class ValidatorPojo {

    @NotNull(message = &quot;IDä¸èƒ½ä¸ºç©º&quot;)
    private Long id;

    @Future(message = &quot;éœ€è¦ä¸€ä¸ªå°†æ¥çš„æ—¥æœŸ&quot;) //åªèƒ½æ˜¯å°†æ¥çš„æ—¥æœŸ
    //@Past åªèƒ½æ˜¯è¿‡å»çš„æ—¥æœŸ
    @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;) // æ—¥æœŸæ ¼å¼åŒ–è½¬æ¢
    @NotNull
    private Date date;

    @NotNull
    @DecimalMin(value = &quot;0.1&quot;) //æœ€å°å€¼ä¸º 0.1
    @DecimalMax(value = &quot;10000&quot;) //æœ€å¤§å€¼ä¸º10000
    private Double doubleValue = null;

    @Min(value = 1,message = &quot;æœ€å°å€¼ä¸º1&quot;)
    @Max(value = 88,message = &quot;æœ€å¤§å€¼ä¸º88&quot;)
    @NotNull
    private Integer integer;

    @Range(min = 1,max = 888,message = &quot;èŒƒå›´ä»1è‡³888&quot;)
    private Long range;

    @Email(message = &quot;é‚®ç®±æ ¼å¼éªŒè¯&quot;)
    private String email;

    @Size(min = 20,max = 30,message = &quot;å­—ç¬¦ä¸²é•¿åº¦è¦æ±‚20-30&quot;)
    private String size;

    public Integer getInteger(){
        return integer;
    }
    public Long getId(){
        return id;
    }
    public Date getDate(){
        return date;
    }

    public Double getDoubleValue(){
        return doubleValue;
    }
}
</code></pre>
<p>psï¼šæ­¤å¤„å¿…é¡»è¦å†™å¯¹åº”çš„getæ–¹æ³•ï¼Œå¦åˆ™åé¢æ— æ³•éªŒè¯ã€‚</p>
<p>åå°çš„éªŒè¯æ–¹æ³•ä¸º</p>
<pre><code class="language-java">@RequestMapping(value = &quot;/valid/validate&quot;,method = RequestMethod.POST)
@ResponseBody
public Map&lt;String, Object&gt; validate(@Valid @RequestBody ValidatorPojo vp, Errors errors) {
    Map&lt;String, Object&gt; errMap = new HashMap&lt;&gt;();
    //è·å–é”™è¯¯åˆ—è¡¨
    List&lt;ObjectError&gt; oes = errors.getAllErrors();
    for (ObjectError oe : oes) {
        String key = null;
        String msg = null;
        //å­—æ®µé”™è¯¯
        if (oe instanceof FieldError) {
            FieldError fe = (FieldError) oe;
            key = fe.getField();//è·å–é”™è¯¯éªŒè¯å­—æ®µå
        } else {
            //éå­—æ®µé”™è¯¯
            key = oe.getObjectName();//è·å–éªŒè¯å¯¹è±¡åç§°

        }
        //é”™è¯¯ä¿¡æ¯
        msg = oe.getDefaultMessage();
        errMap.put(key, msg);
    }
    return errMap;
}
</code></pre>
<p>éœ€è¦è¿›è¡ŒéªŒè¯çš„POJOï¼Œä½¿ç”¨æ³¨è§£@Validè¡¨ç¤ºéªŒè¯ã€‚åé¢ä¸ºè·å–æ‰€æœ‰çš„æŠ¥é”™ä¿¡æ¯ç»„è£…åè¿›è¡Œè¿”å›ã€‚</p>
<h2 id="42-æ–¹æ³•äºŒ-å‚æ•°éªŒè¯æœºåˆ¶">4.2 æ–¹æ³•äºŒã€å‚æ•°éªŒè¯æœºåˆ¶</h2>
<p>å…è®¸ä½¿ç”¨æ³¨è§£@InitBinderï¼Œè¯¥æ³¨è§£çš„ä½œç”¨æ˜¯å…è®¸åœ¨è¿›è¡Œæ§åˆ¶å™¨æ–¹æ³•å‰ä¿®æ”¹ WebDataBinderæœºåˆ¶ã€‚</p>
<p>åœ¨Spring MVCä¸­å®šä¹‰äº†ä¸€ä¸ªæ¥å£Validator,æ¥å£çš„æºç ä¸º</p>
<pre><code class="language-java">public interface Validator {
	boolean supports(Class&lt;?&gt; clazz);

	void validate(Object target, Errors errors);

}
</code></pre>
<p>å®ƒå®šä¹‰äº†ä¸¤ä¸ªæ–¹æ³•ï¼Œå…¶ä¸­supportsæ–¹æ³•å‚æ•°ä¸ºéœ€è¦éªŒè¯çš„POJOç±»å‹ï¼Œå¦‚æœè¯¥æ–¹æ³•è¿”å›trueï¼Œåˆ™Springä¼šä½¿ç”¨å½“å‰éªŒè¯èµ·çš„validationæ–¹æ³•å»éªŒè¯POJOã€‚validationæ–¹æ³•åŒ…å«éœ€è¦çš„targetå¯¹è±¡å’Œé”™è¯¯å¯¹è±¡errorsï¼Œå…¶ä¸­targetæ˜¯å‚æ•°ç»‘å®šåçš„POJOï¼Œè¿™æ ·ä¾¿å¯ä»¥é€šè¿‡è¿™ä¸ªå‚æ•°å¯¹è±¡è¿›è¡Œä¸šåŠ¡é€»è¾‘çš„è‡ªå®šä¹‰éªŒè¯ï¼Œå¦‚æœå‘ç°é”™è¯¯ï¼Œåˆ™å¯ä»¥ä¿å­˜åˆ°errorså¯¹è±¡ä¸­ã€‚</p>
<pre><code class="language-java">public class UserValidator implements Validator {
    //è¯¥éªŒè¯å™¨åªæ”¯æŒUserç±»éªŒè¯
    @Override
    public boolean supports(Class&lt;?&gt; clazz) {
        return clazz.equals(User.class);
    }

    //éªŒè¯é€»è¾‘
    @Override
    public void validate(Object target, Errors errors) {
        //å¯¹è±¡ä¸ºç©º
        if (target == null) {
            //ç›´æ¥åœ¨å‚æ•°å¤„æŠ¥é”™ï¼Œè¿™æ ·å°±ä¸èƒ½è¿›å…¥æ§åˆ¶å™¨çš„æ–¹æ³•
            errors.rejectValue(&quot;&quot;, null, &quot;ç”¨æˆ·ä¸èƒ½ä¸ºç©º&quot;);
            return;
        }
        // å¼ºåˆ¶è½¬æ¢
        User user = (User) target;
        // ç”¨æˆ·åéç©ºä¸²
        if (StringUtils.isEmpty(user.getUserName())) {
            //å¢åŠ é”™è¯¯ï¼Œå¯ä»¥è¿›å…¥æ§åˆ¶å™¨æ–¹æ³•
            errors.rejectValue(&quot;userName&quot;, null, &quot;ç”¨æˆ·åä¸èƒ½ä¸ºç©º&quot;);
        }
    }
}
</code></pre>
<p>åŒæ—¶è¿˜éœ€è¦åœ¨controllerä¸­æ·»åŠ å¯¹åº”çš„æ³¨è§£</p>
<pre><code class="language-java">@Controller
@RequestMapping(&quot;/user&quot;)
public class UserController {
    /*
     * è°ƒç”¨æ§åˆ¶å™¨å‰å…ˆæ‰§è¡Œè¿™ä¸ªæ–¹æ³•
     * @param binder
     * */
    @InitBinder
    public void initBinder(WebDataBinder binder) {
        //ç»‘å®šéªŒè¯å™¨
        binder.setValidator(new UserValidator());
        //å®šä¹‰æ—¥æœŸå‚æ•°æ ¼å¼ï¼Œå‚æ•°ä¸å†éœ€è¦æ³¨è§£@DateTimeFormatï¼Œbooleanå‚æ•°è¡¨ç¤ºæ˜¯å¦å…è®¸ä¸ºç©º
        binder.registerCustomEditor(Date.class, new CustomDateEditor(new SimpleDateFormat(&quot;yyyy-MM-dd&quot;), false));
    }

    /*
     * @param user ç”¨æˆ·å¯¹è±¡ç”¨StringToUserConverterè½¬æ¢
     * @param Errors éªŒè¯å™¨è¿”å›çš„é”™è¯¯
     * @param date å› ä¸ºWebDataBinderå·²ç»ç»‘å®šäº†æ ¼å¼ï¼Œæ‰€ä»¥ä¸åœ¨éœ€è¦æ³¨è§£
     * @return å„ç±»æ•°æ®
     *
     * */
    @GetMapping(&quot;/validator&quot;)
    @ResponseBody
    public Map&lt;String, Object&gt; validator(@Valid User user, Errors Errors, Date date) {
        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();
        map.put(&quot;user&quot;, user);
        map.put(&quot;date&quot;, date);
        //åˆ¤æ–­æ˜¯å¦å­˜åœ¨é”™è¯¯
        if (Errors.hasErrors()) {
            //è·å–å…¨éƒ¨é”™è¯¯
            List&lt;ObjectError&gt; oes = Errors.getAllErrors();
            for (ObjectError oe : oes) {
                //åˆ¤æ–­æ˜¯å¦å­—æ®µé”™è¯¯
                if (oe instanceof FieldError) {
                    //å­—æ®µé”™è¯¯
                    FieldError fe = (FieldError) oe;
                    map.put(fe.getField(), fe.getDefaultMessage());
                } else {
                    //å¯¹è±¡é”™è¯¯
                    map.put(oe.getObjectName(), oe.getDefaultMessage());
                }
            }
        }
        return map;
    }
}
</code></pre>
<p>é€šè¿‡@RequestMapping,@GetMappingç­‰æ³¨è§£æŠŠurlå®šä½åˆ°å¯¹åº”çš„æ§åˆ¶å™¨æ–¹æ³•ä¸Šï¼Œé€šè¿‡æ³¨è§£@PathVariableè·å–urlä¸Šçš„å‚æ•°ï¼Œé€šè¿‡@RequestBodyå¯ä»¥å°†è¯·æ±‚ä½“ä¸ºJSONçš„æ•°æ®è½¬æ¢ä¸ºå¤æ‚çš„Javaå¯¹è±¡ã€‚å¯ä»¥ä½¿ç”¨æ³¨è§£@RestControllerå°†æ•´ä¸ªæ§åˆ¶å™¨é»˜è®¤éƒ½è½¬æ¢ä¸ºJSONæ•°æ®ï¼Œå°±ä¸ç”¨æ¯æ¬¡éƒ½å†™@ResponseBody</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Javaæ•°æ®åº“äº‹åŠ¡å¤„ç†]]></title>
        <id>https://fizzyi.github.io/post/java-shu-ju-ku-shi-wu-chu-li/</id>
        <link href="https://fizzyi.github.io/post/java-shu-ju-ku-shi-wu-chu-li/">
        </link>
        <updated>2023-02-20T12:30:07.000Z</updated>
        <content type="html"><![CDATA[<h1 id="ä¸€-æ•°æ®åº“é…ç½®">ä¸€ã€æ•°æ®åº“é…ç½®</h1>
<pre><code class="language-java">spring.datasource.url=jdbc:mysql://127.0.0.1:3306/test
spring.datasource.username=root
spring.datasource.password=123456
spring.datasource.driver-class-name=com.mysql.jdbc.Driver
#æœ€å¤§ç­‰å¾…è¿æ¥ä¸­çš„æ•°é‡ï¼Œè®¾ç½®ä¸º0æ²¡æœ‰é™åˆ¶
spring.datasource.tomcat.max-idle=10
# æœ€å¤§è¿æ¥æ´»åŠ¨æ•°
spring.datasource.tomcat.max-active=50
# æœ€å¤§ç­‰å¾…æ¯«ç§’æ•°ï¼Œå•ä½ä¸ºmsï¼Œè¶…å‡ºæ—¶é—´ä¼šå‡ºé”™è¯¯ä¿¡æ¯
spring.datasource.tomcat.max-wait=10000
# æ•°æ®åº“è¿æ¥æ± åˆå§‹åŒ–è¿æ¥æ•°
spring.datasource.tomcat.initial-size=5
</code></pre>
<h1 id="äºŒ-springå£°æ˜å¼äº‹åŠ¡çš„ä½¿ç”¨">äºŒã€Springå£°æ˜å¼äº‹åŠ¡çš„ä½¿ç”¨</h1>
<p>springåˆ©ç”¨AOPä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªæ•°æ®åº“äº‹åŠ¡çš„çº¦å®šæµç¨‹ã€‚é€šè¿‡è¿™ä¸ªæµç¨‹å‡å°‘å¤§é‡çš„å†—ä½™ä»£ç å’Œä¸€äº›æ²¡æœ‰å¿…è¦çš„try...catch...finallyè¯­å¥ã€‚å¯¹äºå£°æ˜å¼äº‹åŠ¡ï¼Œä½¿ç”¨<code>@Transactional</code>è¿›è¡Œæ ‡æ³¨ã€‚å¯ä»¥æ ‡æ³¨åœ¨ç±»æˆ–è€…æ–¹æ³•ä¸Šï¼Œå½“æ ‡æ³¨åœ¨ç±»ä¸Šï¼Œä»£è¡¨è¿™ä¸ªç±»æ‰€æœ‰å…¬å…±éé™æ€çš„æ–¹æ³•éƒ½å°†å¯ç”¨äº‹åŠ¡åŠŸèƒ½ã€‚åŒæ—¶è¿˜å¯ä»¥é…ç½®äº‹åŠ¡çš„éš”ç¦»çº§åˆ«å’Œä¼ æ’­è¡Œä¸ºã€‚</p>
<pre><code class="language-java">// ç¬¬ä¸€ä¸ªå®šä¹‰éš”ç¦»çº§åˆ«ï¼Œç¬¬äºŒä¸ªå®šä¹‰ä¼ æ’­è¡Œä¸º
@Transactional(isolation = Isolation.READ_COMMITTED,propagation=Propagation.REQUIRED)
</code></pre>
<h1 id="ä¸‰-éš”ç¦»çº§åˆ«">ä¸‰ã€éš”ç¦»çº§åˆ«</h1>
<p>##3.1 æ•°æ®åº“äº‹åŠ¡çš„çŸ¥è¯†<br>
å››ä¸ªåŸºæœ¬ç‰¹å¾ï¼ŒACID</p>
<ul>
<li>Atomicï¼ˆåŸå­æ€§ï¼‰ï¼šäº‹åŠ¡ä¸­åŒ…å«çš„æ“ä½œè¢«çœ‹ä½œä¸€ä¸ªæ•´ä½“çš„ä¸šåŠ¡å•å…ƒï¼Œè¿™ä¸ªä¸šåŠ¡å•å…ƒä¸­çš„æ“ä½œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥ï¼Œä¸ä¼šå‡ºç°éƒ¨åˆ†æˆè´¥ï¼Œéƒ¨åˆ†æˆåŠŸçš„åœºæ™¯ã€‚</li>
<li>Consistencyï¼ˆä¸€è‡´æ€§ï¼‰ï¼šäº‹åŠ¡åœ¨å®Œæˆæ—¶ï¼Œå¿…é¡»ä½¿æ‰€æœ‰çš„æ•°æ®éƒ½ä¿æŒä¸€è‡´çŠ¶æ€ï¼Œåœ¨æ•°æ®åº“ä¸­æ‰€æœ‰çš„ä¿®æ”¹éƒ½åŸºäºäº‹åŠ¡ï¼Œä¿è¯äº†æ•°æ®çš„å®Œæ•´æ€§ã€‚</li>
<li>Isolationï¼ˆéš”ç¦»æ€§ï¼‰ï¼šä¸ºäº†å‹åˆ¶ä¸¢å¤±æ›´æ–°çš„äº§ç”Ÿï¼Œæ•°æ®åº“å®šä¹‰äº†éš”ç¦»çº§åˆ«çš„æ¦‚å¿µã€‚</li>
<li>Durabilityï¼ˆæŒä¹…æ€§ï¼‰ï¼šäº‹åŠ¡ç»“æŸåï¼Œæ‰€æœ‰çš„æ•°æ®ä¼šå›ºåŒ–åˆ°ä¸€ä¸ªåœ°æ–¹ï¼Œå¦‚ä¿å­˜åœ¨ç£ç›˜ä¸­ï¼Œå³ä½¿æ–­ç”µé‡å¯åä¹Ÿå¯ä»¥æä¾›ç»™åº”ç”¨ç¨‹åºè®¿é—®ã€‚</li>
</ul>
<h2 id="32-è¯¦è§£éš”ç¦»çº§åˆ«">3.2 è¯¦è§£éš”ç¦»çº§åˆ«</h2>
<h3 id="321-æœªæäº¤è¯»read-uncommitted">3.2.1 æœªæäº¤è¯»ï¼ˆread uncommittedï¼‰</h3>
<p>æœ€ä½çš„éš”ç¦»çº§åˆ«ï¼Œå…è®¸ä¸€ä¸ªäº‹åŠ¡è¯»å–å¦å¤–ä¸€ä¸ªäº‹åŠ¡æœªæäº¤çš„æ•°æ®ã€‚ä¼˜ç‚¹åœ¨äºå¹¶å‘èƒ½åŠ›é«˜ï¼Œç¼ºç‚¹æ˜¯ä¼šå‡ºç°è„è¯»ï¼Œä¸€èˆ¬åœ¨å®é™…çš„å¼€å‘ä¸­åº”ç”¨ä¸å¹¿ã€‚</p>
<h3 id="322-è¯»å†™æäº¤read-committed">3.2.2 è¯»å†™æäº¤ï¼ˆread committedï¼‰</h3>
<p>ä¸€ä¸ªäº‹åŠ¡åªèƒ½è¯»å–å¦ä¸€ä¸ªäº‹åŠ¡å·²ç»æäº¤çš„æ•°æ®ï¼Œä¸èƒ½è¯»å–æœªæäº¤çš„æ•°æ®ã€‚ç¼ºç‚¹æ˜¯ä¼šå‡ºç°ä¸å¯é‡å¤è¯»ç°è±¡ã€‚</p>
<h3 id="323-å¯é‡å¤è¯»">3.2.3 å¯é‡å¤è¯»</h3>
<p>ç›®æ ‡æ˜¯å…‹æœè¯»å†™æäº¤ä¸­å‡ºç°çš„ä¸å¯é‡å¤è¯»çš„ç°è±¡ï¼Œå› ä¸ºåœ¨è¯»å†™æäº¤çš„æ—¶å€™ï¼Œå¯èƒ½ä¼šå‡ºç°ä¸€äº›å€¼çš„å˜åŒ–ï¼Œå½±å“å½“å‰äº‹åŠ¡çš„æ‰§è¡Œã€‚å¦‚æœæŸä¸ªæ•°æ®å·²ç»è¢«å…¶ä»–äº‹åŠ¡è¯»å–ï¼Œè¿™ä¸ªæ—¶å€™æ•°æ®åº“å°±ä¼šé˜»å¡å…¶ä»–äº‹åŠ¡çš„è¯»å–ï¼Œç›´åˆ°å…¶ä»–äº‹åŠ¡çš„æäº¤ã€‚ç¼ºç‚¹æ˜¯ä¼šå‡ºç°å¹»è¯»ç°è±¡ã€‚å¹»è¯»å°±æ˜¯ç¬¬ä¸€æ¬¡æŸ¥è¯¢å’Œæœ€åæ‰“å°å‡ºæ¥çš„æ•°é‡å¯¹åº”ä¸ä¸Šï¼Œå¹»è¯»æ˜¯é’ˆå¯¹å¤šæ¡è®°å½•çš„ç»Ÿè®¡æ¥è¯´çš„ã€‚å¯é‡å¤è¯»æ˜¯é’ˆå¯¹æ•°æ®åº“çš„å•ä¸€æ¡æ•°æ®ã€‚</p>
<h3 id="324-ä¸²è¡ŒåŒ–åºåˆ—åŒ–serializable">3.2.4 ä¸²è¡ŒåŒ–/åºåˆ—åŒ–ï¼ˆSerializableï¼‰</h3>
<p>æ•°æ®åº“çš„æœ€é«˜éš”ç¦»çº§åˆ«ï¼Œè¦æ±‚æ‰€æœ‰çš„SQLéƒ½æŒ‰ç…§é¡ºåºæ‰§è¡Œï¼Œè¿™æ ·å°±å¯ä»¥å…‹æœä¸Šè¿°éš”ç¦»çº§åˆ«å‡ºç°çš„å„ç§é—®é¢˜ï¼Œèƒ½å¤Ÿå®Œå…¨ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ã€‚</p>
<p>æ›´é«˜çš„éš”ç¦»çº§åˆ«ï¼Œæ›´å¥½çš„ä¿è¯äº†æ•°æ®çš„ä¸€è‡´æ€§ï¼Œä½†æ˜¯ä¹Ÿè¦ä»˜å‡ºé”çš„ä»£ä»·ï¼Œæ„å‘³ç€æ€§èƒ½çš„ä¸¢å¤±ï¼Œéš”ç¦»çº§åˆ«è¶Šé«˜ï¼Œæ€§èƒ½è¶Šæ˜¯ç›´çº¿ä¸‹é™ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œé€‰æ‹©éš”ç¦»çº§åˆ«ä¼šä»¥ è¯»å†™æäº¤ ä¸ºä¸»ã€‚</p>
<h1 id="å››-ä¼ æ’­è¡Œä¸º">å››ã€ä¼ æ’­è¡Œä¸º</h1>
<p>ä¼ æ’­è¡Œä¸ºæ˜¯æ–¹æ³•ä¹‹é—´è°ƒç”¨äº‹åŠ¡é‡‡å–çš„ç­–ç•¥é—®é¢˜ã€‚åœ¨æ‰§è¡Œä¸€ä¸ªæ‰¹é‡ç¨‹åºï¼Œå¦‚æœæœ‰ä¸€äº›äº¤æ˜“å‘ç”Ÿå¼‚å¸¸ï¼Œåªè¦å›æ»šé‚£äº›å‡ºç°å¼‚å¸¸çš„äº¤æ˜“ï¼Œè€Œä¸æ˜¯æ•´ä¸ªæ‰¹é‡ä»»åŠ¡ã€‚è¿™æ ·èƒ½å¤Ÿä½¿å¾—é‚£äº›æ²¡æœ‰é—®é¢˜çš„äº¤æ˜“å¯ä»¥é¡ºåˆ©å®Œæˆï¼Œè€Œæœ‰é—®é¢˜çš„äº¤æ˜“åˆ™ä¸åšä»»ä½•äº‹æƒ…ã€‚</p>
<h2 id="41-ä¼ æ’­è¡Œä¸ºçš„å®šä¹‰">4.1 ä¼ æ’­è¡Œä¸ºçš„å®šä¹‰</h2>
<p>ä¸€å…±æœ‰7ç§ä¼ æ’­è¡Œä¸ºï¼Œé€šè¿‡<code>Propagation</code>å®šä¹‰ã€‚<br>
å¸¸ç”¨çš„æœ‰ï¼š</p>
<ul>
<li>REQUIREDï¼šéœ€è¦äº‹åŠ¡ï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œå°±æ²¿ç”¨å½“å‰äº‹åŠ¡ï¼Œå¦åˆ™æ–°å»ºä¸€ä¸ªäº‹åŠ¡è¿è¡Œå­æ–¹æ³•ã€‚</li>
<li>REQUIRES_NEWï¼šæ— è®ºå½“å‰äº‹åŠ¡æ˜¯å¦å­˜åœ¨ï¼Œéƒ½ä¼šåˆ›å»ºæ–°äº‹ç‰©è¿è¡Œæ–¹æ³•ï¼Œè¿™æ ·æ–°äº‹ç‰©å°±å¯ä»¥æ‹¥æœ‰æ–°çš„é”å’Œéš”ç¦»çº§åˆ«ç­‰ç‰¹æ€§ï¼Œä¸å½“å‰äº‹åŠ¡ç›¸äº’ç‹¬ç«‹ã€‚</li>
<li>NESTEDï¼šåœ¨å½“å‰æ–¹æ³•è°ƒç”¨å­æ–¹æ³•æ—¶ï¼Œå¦‚æœå­æ–¹æ³•å‘ç”Ÿå¼‚å¸¸ï¼Œåªå›æ»šå­æ–¹æ³•æ‰§è¡Œè¿‡çš„SQLï¼Œè€Œä¸å›æ»šå½“å‰æ–¹æ³•çš„äº‹åŠ¡ã€‚</li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Javaæ•°æ®åº“è¿æ¥ä¹‹MyBatis]]></title>
        <id>https://fizzyi.github.io/post/java-shu-ju-ku-lian-jie-zhi-mybatis/</id>
        <link href="https://fizzyi.github.io/post/java-shu-ju-ku-lian-jie-zhi-mybatis/">
        </link>
        <updated>2023-02-20T06:10:13.000Z</updated>
        <content type="html"><![CDATA[<h1 id="ä¸€-å¼•å…¥ä¾èµ–">ä¸€ã€å¼•å…¥ä¾èµ–</h1>
<pre><code class="language-xml">&lt;dependency&gt;
            &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;
            &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;
            &lt;version&gt;2.2.2&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<h1 id="äºŒ-mybatisçš„é…ç½®">äºŒã€MyBatisçš„é…ç½®</h1>
<p>MyBatisæ˜¯ä¸€ä¸ªåŸºäº<code>SqlSessionFactory</code>æ„å»ºçš„æ¡†æ¶ï¼Œå¾€å¾€æ˜¯å•ä¾‹æ¨¡å¼ã€‚æ„å»º<code>SqlSessionFactory</code>æ˜¯é€šè¿‡é…ç½®ç±»<code>Configuration</code>æ¥å®Œæˆçš„ã€‚<br>
å¸¸è§çš„é…ç½®å†…å®¹</p>
<ul>
<li>mappersï¼ˆæ˜ å°„å™¨ï¼‰ï¼šæ˜¯MyBatisæœ€æ ¸å¿ƒçš„ç»„ä»¶ï¼Œæä¾›SQLå’ŒPOJOæ˜ å°„å…³ç³»ã€‚</li>
<li>typeAliasesï¼ˆç±»å‹åˆ«åï¼‰ï¼šå› ä¸ºä½¿ç”¨ç±»å…¨é™å®šåä¼šæ¯”è¾ƒé•¿ï¼Œä¼šå¯¹å¸¸ç”¨çš„ç±»æä¾›é»˜è®¤çš„åˆ«åï¼Œè¿˜å…è®¸æˆ‘ä»¬é€šè¿‡typeAliasesé…ç½®è‡ªå®šä¹‰çš„åˆ«åã€‚</li>
<li>typeHandlersï¼ˆç±»å‹å¤„ç†å™¨ï¼‰ï¼šåœ¨MyBatiså†™å…¥å’Œè¯»å–æ•°æ®åº“çš„è¿‡ç¨‹ä¸­å¯¹äºä¸åŒç±»å‹çš„æ•°æ®ï¼ˆå¯¹äºJAVAæ˜¯JavaTypeï¼Œå¯¹äºæ•°æ®åº“åˆ™æ˜¯JdbcTypeï¼‰è¿›è¡Œè‡ªå®šä¹‰è½¬æ¢ï¼Œåœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹æˆ‘ä»¬ä¸éœ€è¦ä½¿ç”¨è‡ªå®šä¹‰çš„typeHandlerï¼Œå› ä¸ºåœ¨MyBatisè‡ªèº«å°±å·²ç»å®šä¹‰äº†æ¯”è¾ƒå¤šçš„typeHandlerï¼ŒMyBatisä¼šè‡ªåŠ¨è¯†åˆ«javaTypeå’ŒjdbcTypeï¼Œä»è€Œå®ç°ç±»å‹çš„è½¬æ¢ã€‚typeHandlerçš„ä½¿ç”¨é›†ä¸­åœ¨æšä¸¾ç±»å‹ä¸­ã€‚</li>
<li>pluginsï¼ˆæ’ä»¶ï¼‰ï¼šæ‹¦æˆªå™¨ï¼Œé€šè¿‡åŠ¨æ€ä»£ç†å’Œè´£ä»»é“¾æ¨¡å¼æ¥å®Œæˆï¼Œå¯ä»¥ä¿®æ”¹MyBatisåº•å±‚çš„å®ç°åŠŸèƒ½.</li>
</ul>
<h2 id="21-mybatisæŒ‡å®šåˆ«å">2.1 MyBatisæŒ‡å®šåˆ«å</h2>
<p>ä½¿ç”¨æ³¨è§£@AliasæŒ‡å®šåˆ«å</p>
<pre><code class="language-java">@Alias(value = &quot;user&quot;) //MyBatisæŒ‡å®šåˆ«å
public class User {

    private Long id;
    private String userName;
    private String note;
    private SexEnum sex = null; //æšä¸¾
    }
</code></pre>
<h2 id="22-ä½¿ç”¨mappersè¿›è¡Œæ˜ å°„">2.2 ä½¿ç”¨mappersè¿›è¡Œæ˜ å°„</h2>
<h3 id="221-usermapperxmlæ–‡ä»¶">2.2.1 userMapper.xmlæ–‡ä»¶</h3>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
&lt;!DOCTYPE mapper
        PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;
        &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;
&lt;mapper namespace=&quot;com.springboot.chapter4.dao.MyBatisUserDao&quot;&gt;
    &lt;select id=&quot;getUser&quot; parameterType=&quot;long&quot; resultType=&quot;user&quot;&gt;
        select id,user_name as userName,sex,note from t_user where id = #{id}
    &lt;/select&gt;
&lt;/mapper&gt;
</code></pre>
<ul>
<li>namespace ï¼šæŒ‡å®šä¸€ä¸ªæ¥å£</li>
<li>selectï¼šä»£è¡¨ç€ä¸€ä¸ªæŸ¥è¯¢è¯­å¥ï¼Œidå±æ€§æŒ‡ä»£è¿™æ¡sqlï¼ŒparameterTypeå±æ€§é…ç½®ä¸ºlongï¼Œä»£è¡¨å‚æ•°æ˜¯ä¸€ä¸ªé•¿æ•´å½¢ï¼ˆlongï¼‰å‚æ•°ï¼ŒresultTypeæŒ‡å®šè¿”å›å€¼ç±»å‹ï¼Œè¿™é‡Œä½¿ç”¨äº†userï¼Œå°±æ˜¯ä¸Šé¢æŒ‡å®šçš„åˆ«åï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å…¨é™å®šåï¼ˆcom.springboot.chapter4.pojo.Userï¼‰ï¼Œç´§æ¥ç€æ˜¯sqlè¯­å¥ï¼Œè¿™é‡Œçš„åˆ—åå’ŒPOJOçš„å±æ€§åç§°æ˜¯ä¿æŒä¸€ç›´çš„</li>
</ul>
<h3 id="222-å®šä¹‰mybatisæ“ä½œæ¥å£">2.2.2 å®šä¹‰MyBatisæ“ä½œæ¥å£</h3>
<pre><code class="language-java">@Repository
public interface MyBatisUserDao {
    public User getUser(Long id);
}
</code></pre>
<p>è¿™é‡Œæ–°å†™ä¸€ä¸ªæ¥å£ï¼Œä¸éœ€è¦ä»»ä½•å®ç°ç±»ï¼Œå®ƒå°±æ˜¯ mapperå…ƒç´ çš„namespaceå±æ€§å®šä¹‰çš„MyBatisUserDaoã€‚<br>
å®ƒçš„æ–¹æ³•getUserå’Œæ˜ å°„æ–‡ä»¶ä¸­å®šä¹‰çš„æŸ¥è¯¢SQLçš„idæ˜¯ä¿æŒä¸€è‡´çš„ï¼Œå‚æ•°ä¹Ÿæ˜¯ã€‚</p>
<h3 id="223-ä½¿ç”¨mapperscanå®šä¹‰æ‰«æ">2.2.3 ä½¿ç”¨@MapperScanå®šä¹‰æ‰«æ</h3>
<pre><code class="language-java">@MapperSacn(
    //æŒ‡å®šæ‰«æåŒ…
    basePackages = &quot;com.springboot.chapter4.*&quot;,
    
)
</code></pre>
<h2 id="23-é…ç½®applicationpropertiesæ–‡ä»¶">2.3 é…ç½®application.propertiesæ–‡ä»¶</h2>
<pre><code class="language-properties">#MyBatis æ˜ å°„æ–‡ä»¶
mybatis.mapper-locations=classpath:mapper/*.xml
#MyBatis æ‰«æåˆ«ååŒ…å’Œæ³¨è§£@Aliasè”ç”¨
mybatis.type-aliases-package=com.springboot.chapter4.pojo
# ??typeHandler
mybatis.type-handlers-package=com.springboot.chapter4.typeHandler
</code></pre>
<p>é…ç½®æ–‡ä»¶åªéœ€è¦ä¿®æ”¹éœ€è¦çš„ä¸œè¥¿ï¼Œmybatis-spring-boot-starterå¯¹MyBatiså¯åŠ¨äº†é»˜è®¤çš„é…ç½®ã€‚</p>
<h2 id="24-æ’ä»¶plugin">2.4 æ’ä»¶Plugin</h2>
<h3 id="241å®šä¹‰æ’ä»¶">2.4.1å®šä¹‰æ’ä»¶</h3>
<pre><code class="language-java">
@Intercepts({
        @Signature(type= StatementHandler.class,method = &quot;prepare&quot;,args = {Connection.class,Integer.class})
})
public class MyPlugin implements Interceptor {
    Properties properties = null;

   //æ‹¦æˆªæ–¹æ³•é€»è¾‘
    @Override
    public Object intercept(Invocation invocation) throws Throwable{
        System.out.println(&quot;æ’ä»¶æ‹¦æˆªæ–¹æ³•&quot;);
        return invocation.proceed();
    }

    //ç”ŸæˆMyBatisæ‹¦æˆªå™¨å¯¹è±¡
    @Override
    public Object plugin(Object target){
        return Plugin.wrap(target,this);
    }

    //è®¾ç½®æ’ä»¶å±æ€§
    @Override
    public void setProperties(Properties properties){
        this.properties = properties;
    }

}
</code></pre>
<h3 id="242-æ’ä»¶é…ç½®">2.4.2 æ’ä»¶é…ç½®</h3>
<p>åœ¨application.propertiesä¸­æ·»åŠ é…ç½®è¯­å¥<br>
<code>mybatis.config-location=classpath:mybatis/mybatis-config.xml</code></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Java Q&A]]></title>
        <id>https://fizzyi.github.io/post/java-qanda/</id>
        <link href="https://fizzyi.github.io/post/java-qanda/">
        </link>
        <updated>2023-02-20T03:27:48.000Z</updated>
        <content type="html"><![CDATA[<h1 id="extends-å’Œ-implements-çš„åŒºåˆ«">extends å’Œ implements çš„åŒºåˆ«</h1>
<p>åœ¨Javaä¸­ï¼Œ<code>extends</code>å’Œ<code>implements</code>éƒ½æ˜¯ç”¨äºè¡¨ç¤ºç±»å’Œæ¥å£ä¹‹é—´çš„å…³ç³»ï¼Œä½†å®ƒä»¬ä¹‹é—´æœ‰ä¸€äº›åŒºåˆ«ã€‚</p>
<ol>
<li>
<p><code>extends</code>ç”¨äºè¡¨ç¤ºç±»å’Œç±»ä¹‹é—´çš„ç»§æ‰¿å…³ç³»ï¼Œå³ä¸€ä¸ªç±»å¯ä»¥ç»§æ‰¿å¦ä¸€ä¸ªç±»çš„å±æ€§å’Œæ–¹æ³•ã€‚ä¸€ä¸ªç±»åªèƒ½ç»§æ‰¿ä¸€ä¸ªç±»ï¼Œä¹Ÿå°±æ˜¯å•ç»§æ‰¿ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="language-java">javaCopy code
public class SubClass extends SuperClass {
    // å­ç±»çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•
}
</code></pre>
</li>
<li>
<p><code>implements</code>ç”¨äºè¡¨ç¤ºç±»å’Œæ¥å£ä¹‹é—´çš„å®ç°å…³ç³»ï¼Œå³ä¸€ä¸ªç±»å¿…é¡»å®ç°ä¸€ä¸ªæˆ–å¤šä¸ªæ¥å£ä¸­å®šä¹‰çš„æ‰€æœ‰æ–¹æ³•ã€‚ä¸€ä¸ªç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£ï¼Œä¹Ÿå°±æ˜¯å¤šå®ç°ã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="language-java">javaCopy code
public class MyClass implements MyInterface {
    // å®ç° MyInterface æ¥å£ä¸­çš„æ–¹æ³•
}
</code></pre>
</li>
<li>
<p>ç»§æ‰¿å¯ä»¥è·å¾—çˆ¶ç±»ä¸­çš„å±æ€§å’Œæ–¹æ³•ï¼Œå­ç±»å¯ä»¥é€šè¿‡<code>super</code>å…³é”®å­—è®¿é—®çˆ¶ç±»ä¸­çš„æ–¹æ³•å’Œå±æ€§ï¼Œå¹¶ä¸”å­ç±»å¯ä»¥é‡å†™çˆ¶ç±»ä¸­çš„æ–¹æ³•ã€‚å®ç°åˆ™éœ€è¦å®ç°æ¥å£ä¸­å®šä¹‰çš„æ‰€æœ‰æ–¹æ³•ï¼Œå¦åˆ™éœ€è¦å°†è¯¥ç±»å£°æ˜ä¸ºæŠ½è±¡ç±»ã€‚å®ç°æ¥å£å¯ä»¥ä½¿å¾—è¯¥ç±»å…·æœ‰æŸç§ç‰¹å®šçš„è¡Œä¸ºï¼Œè€Œè¿™ç§è¡Œä¸ºå¯ä»¥è¢«å…¶ä»–ç±»é‡å¤åˆ©ç”¨ã€‚</p>
</li>
<li>
<p>å½“ä¸€ä¸ªç±»åŒæ—¶ç»§æ‰¿ä¸€ä¸ªç±»å¹¶å®ç°å¤šä¸ªæ¥å£æ—¶ï¼Œå…³é”®å­—çš„é¡ºåºæ˜¯<code>extends</code>åœ¨å‰ï¼Œ<code>implements</code>åœ¨åã€‚ä¾‹å¦‚ï¼š</p>
<pre><code class="language-java">javaCopy code
public class MyClass extends SuperClass implements Interface1, Interface2 {
    // MyClass çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•
}
</code></pre>
</li>
</ol>
<p>æ€»ä¹‹ï¼Œ<code>extends</code>å’Œ<code>implements</code>éƒ½æ˜¯Javaä¸­é‡è¦çš„å…³é”®å­—ï¼Œå®ƒä»¬åˆ†åˆ«è¡¨ç¤ºäº†ç»§æ‰¿å’Œå®ç°çš„å…³ç³»ï¼Œå¯ä»¥ä½¿å¾—Javaç¨‹åºå…·æœ‰æ›´åŠ çµæ´»çš„æ¶æ„å’Œæ›´é«˜çš„ä»£ç å¤ç”¨æ€§ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[JSç»ƒæ‰‹ä¹‹æŸè”ç›Ÿ ]]></title>
        <id>https://fizzyi.github.io/post/js-lian-shou-zhi-mou-lian-meng/</id>
        <link href="https://fizzyi.github.io/post/js-lian-shou-zhi-mou-lian-meng/">
        </link>
        <updated>2020-09-16T07:23:00.000Z</updated>
        <content type="html"><![CDATA[<p>æœ€è¿‘ä¸¤ä¸ªæœˆé‡æ„äº†å…¬å¸çš„é¡¹ç›®ï¼Œç©ºä½™æ—¶é—´ä¹Ÿåœ¨å¿™ç§äº‹ï¼Œå¥½ä¹…éƒ½æ²¡æœ‰å­¦ä¹ äº†ï¼Œç°åœ¨ç»ˆäºæŠŠå…¬å¸çš„äº‹æƒ…å¿™è¿‡äº†ï¼Œå¼€å§‹å­¦ä¹ ï¼Œä»Šå¤©å…ˆæ¥ä¸€ä¸ªç®€å•çš„ç»ƒæ‰‹çš„ç½‘ç«™ã€‚<br>
url:aHR0cDovL2xvZ2luLnNoaWtlZS5jb20v<br>
è€è§„çŸ©ï¼Œéšæ„è¾“å…¥ä¸€ä¸ªå¸å·å’Œå¯†ç 123456ï¼ŒæŸ¥çœ‹è¯·æ±‚å¤´ï¼Œå‘ç°å¯†ç æ˜¯åŠ å¯†æ•°æ®<br>
<img src="http://119.3.13.71:7777/images/2020/09/16/2020-09-1615.29.31.png" alt="" loading="lazy"><br>
äºæ˜¯å…¨å±€æœç´¢è¿™ä¸ªå‚æ•°ï¼Œå¾ˆå®¹æ˜“å°±å‘ç°åœ¨è¿™ä¸ªjsæ–‡ä»¶ä¸­æ‰¾åˆ°è¿™ä¸ªå‚æ•°ï¼Œäºæ˜¯å°±å¼€å§‹å¸¸è§„æ“ä½œï¼Œæ‰“æ–­ç‚¹ï¼Œè¿›å…¥è¿™ä¸ªå‡½æ•°é‡Œé¢è¿›è¡Œåˆ†æã€‚<br>
<img src="http://119.3.13.71:7777/images/2020/09/16/2020-09-1615.33.18.png" alt="" loading="lazy"><br>
ç„¶åå°±æ˜¯ç¼ºæ’’è¡¥æ’’äº†ï¼Œè¿™ä¸ªJSæ€»å…±ä¹Ÿå°±600å¤šè¡Œï¼Œäºæ˜¯å°±å…¨éƒ¨å¤åˆ¶ä¸‹æ¥äº†ï¼Œç„¶åå›å»çœ‹çœ‹å‚æ•°ï¼Œæœ‰ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯rsa_n,ä¸€ä¸ªæ˜¯å¯†ç çš„å€¼ï¼Œ<br>
äºæ˜¯è‡ªå·±å†™ä¸€ä¸ªJSå‡½æ•°æ„é€ ä¸‹è¿™éƒ¨åˆ†<br>
rsa_n åˆå§‹å€¼æ˜¯å›ºå®šçš„ï¼Œç›´æ¥å–å‡ºæ¥å°±å¥½ã€‚<br>
<img src="http://119.3.13.71:7777/images/2020/09/16/2020-09-1615.35.36.png" alt="" loading="lazy"><br>
å°±è¿™æ ·å°±å¤§åŠŸå‘Šæˆäº†ã€‚<br>
å®Œæ•´çš„JSå·²ç»ä¸Šä¼ åˆ°<a href="https://github.com/Fizzyi/JS_PROJECT">GitHub</a>ï¼Œæœ‰éœ€æ±‚çš„å¯è‡ªå–ã€‚</p>
<p>ç°åœ¨çš„æˆ‘ä¹Ÿåªä¼šæœ€åŸºç¡€çš„æ–¹æ³•ï¼Œå¸Œæœ›æˆ‘æœ‰ä¸€å¤©ä¹Ÿèƒ½æˆé•¿ä¸ºğŸ®ã€‚<br>
åƒé‡Œä¹‹è¡Œï¼Œå§‹äºè¶³ä¸‹ã€‚çœ‹ç€å…¶ä»–çš„åŒé¾„äººéƒ½å·²ç»é‚£ä¹ˆä¼˜ç§€äº†ï¼Œè‡ªå·±ä¹Ÿè¦åŠªåŠ›å•Šã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[æŸç§Ÿå¹³å°çš„JSåŠ å¯†]]></title>
        <id>https://fizzyi.github.io/post/mou-zu-ping-tai-de-js-jia-mi/</id>
        <link href="https://fizzyi.github.io/post/mou-zu-ping-tai-de-js-jia-mi/">
        </link>
        <updated>2020-07-13T07:25:03.000Z</updated>
        <content type="html"><![CDATA[<p>url :  aHR0cHM6Ly93d3cubWFvbWFvenUuY29tLyMvYnVpbGQ/RGlzdHJpY3Q9JkFyZWE9LTEsLTE=</p>
<p>åœ¨ç¿»é¡µçš„æ—¶å€™å‘ç°ç¿»é¡µçš„å‚æ•°è¿›è¡Œäº†åŠ å¯†ï¼Œè¿”å›çš„æ•°æ®ä¹Ÿè¿›è¡Œäº†åŠ å¯†<br>
<img src="http://119.3.13.71:7777/images/2020/07/13/2020-07-1315.27.40.png" alt="ç¿»é¡µçš„å‚æ•°" loading="lazy"><br>
<img src="http://119.3.13.71:7777/images/2020/07/13/2020-07-1315.29.17.png" alt="è¿”å›çš„ç»“æœ" loading="lazy"></p>
<p>å…¨å±€æœç´¢äº†è¿™ä¸ªåœ°å€ï¼Œæ²¡æœ‰æœç´¢åˆ°ã€‚<br>
ç„¶åå¯åŠ¨çŒ´å­æ’ä»¶ï¼Œå‘ç°æœ‰ä¸€ä¸ªencryptå…³é”®å­—ï¼Œäºæ˜¯å¯¹å…¨å±€è¿›è¡Œæœç´¢ï¼Œæ‰¾åˆ°äº†ä¸‹é¢è¿™ä¸ªåœ°æ–¹ï¼Œæ‰“ä¸Šæ–­ç‚¹ã€‚<br>
<img src="http://119.3.13.71:7777/images/2020/07/13/2020-07-1315.38.23.png" alt="" loading="lazy"><br>
åˆ·æ–°åå‘ç°å°±æ˜¯æˆ‘ä»¬è¦æ‰¾æ‰“çš„åœ°æ–¹ï¼Œç„¶ååˆ†æå‚æ•°<br>
å‚æ•°Læ˜¯æˆ‘ä»¬æœç´¢çš„å†…å®¹ï¼Œ<br>
<img src="http://119.3.13.71:7777/images/2020/07/13/2020-07-1315.41.13.png" alt="" loading="lazy"><br>
å‚æ•°eæ˜¯å¦å¤–ä¸€ä¸ªå‡½æ•°md5ç”Ÿæˆçš„<br>
<img src="http://119.3.13.71:7777/images/2020/07/13/2020-07-1315.42.30.png" alt="" loading="lazy"><br>
æ‰€ä»¥åŠ å¯†æ–¹å¼å°±è§£å‡ºæ¥ï¼Œä»¥eä¸ºåç§»é‡ï¼Œå¯¹è¯·æ±‚çš„å‚æ•°å°±è¡ŒAESåŠ å¯†å³å¯ã€‚</p>
<p>åŠ å¯†è§£å‡ºæ¥ä¹‹åï¼Œè§£å¯†ä¹Ÿå¾ˆç®€å•äº†ã€‚<br>
<img src="http://119.3.13.71:7777/images/2020/07/13/2020-07-1315.45.04.png" alt="" loading="lazy"><br>
<img src="http://119.3.13.71:7777/images/2020/07/13/2020-07-1315.45.24.png" alt="" loading="lazy"><br>
å®Œæ•´çš„JSè§£å¯†å·²ç»æ”¾åœ¨githubä¸Šé¢ï¼Œéœ€è¦çš„æœ‹å‹å¯ä»¥è‡ªå–ã€‚<br>
https://github.com/Fizzyi/JS_PROJECT/tree/master/%E6%AF%9B%E6%AF%9B%E7%A7%9F</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[æŸç”µç«å¹³å°å‚æ•°åŠ å¯†]]></title>
        <id>https://fizzyi.github.io/post/mou-dian-jing-ping-tai-can-shu-jia-mi/</id>
        <link href="https://fizzyi.github.io/post/mou-dian-jing-ping-tai-can-shu-jia-mi/">
        </link>
        <updated>2020-07-10T06:05:19.000Z</updated>
        <content type="html"><![CDATA[<p>æ±¡æ¸ï¼Œæ°¸è¿œçš„ç¥ï¼</p>
<p>url: https://www.jdj007.com/schedule.html?gameType=1</p>
<p>æŸ¥çœ‹è¯·æ±‚ï¼Œå‘ç°å‚æ•°ä¸­æœ‰ä¸ªsign,å°±æ˜¯æ­¤æ¬¡çš„ç›®æ ‡ã€‚</p>
<p><img src="http://119.3.13.71:7777/images/2020/07/10/2020-07-1014.07.31.png" alt="" loading="lazy"><br>
å…¨å±€æœç´¢ sign ,sign:<br>
å‘ç°è¿™ä¸ªåœ°æ–¹å¾ˆæœ‰å¯èƒ½æ˜¯æˆ‘ä»¬è¦æ—©çš„åœ°æ–¹ï¼Œäºæ˜¯æ‰“ä¸Šæ–­ç‚¹ï¼Œåˆ·æ–°é¡µé¢ï¼Œ<br>
<img src="http://119.3.13.71:7777/images/2020/07/10/2020-07-1014.12.58.png" alt="" loading="lazy"><br>
ç„¶ååœ¨console é¢æ¿ä¸­ä¸æ–­çš„è¾“å‡ºï¼Œå¯ä»¥è¯å® <code> a = encodeURIComponent(c.a.stringify(n))</code><br>
è€Œ <code>n = = i()(t)</code>, <code>t = o = &quot;timestamp=&quot;.concat(r, &quot;&amp;secret=&quot;).concat(&quot;aHVheWluZ19zZWNyZXRfYXBp&quot;)</code>,<code> r  = = (new Date).getTime()</code><br>
r å°±æ˜¯ç°åœ¨çš„æ—¶é—´æˆ³ï¼Œç„¶åæ‹¼æˆäº†ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå½“ä½œäº†i()å‡½æ•°çš„å‚æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬ç°åœ¨è¿› i() å‡½æ•°é‡Œé¢çœ‹çœ‹ã€‚<br>
<img src="http://119.3.13.71:7777/images/2020/07/10/2020-07-1014.17.27.png" alt="" loading="lazy"><br>
çœ¼ç†Ÿçš„æ„Ÿè§‰æ¥äº†ï¼Œä¹‹å‰åœ¨å¦å¤–ä¸€ä¸ªç½‘ç«™ä¹Ÿçœ‹è§è¿‡è¿™ä¸ª new e.init(),æµ‹è¯•åå‘ç°è¿™ä¸ªå‚æ•°å…¶å®æ˜¯æ²¡æœ‰ä»€ä¹ˆç”¨çš„ï¼Œç›´æ¥çœ‹åé¢çš„ finalize(t)å‡½æ•°ï¼Œå¥½å·§ä¸å·§ï¼Œè¿™ä¸ªå‡½æ•°å°±åœ¨ä¸Šé¢ï¼Œç„¶åè¿›å»<code>this._doFinalize()</code>ï¼Œ<br>
<img src="http://119.3.13.71:7777/images/2020/07/10/2020-07-1014.20.44.png" alt="" loading="lazy"><br>
ç„¶åå¯ä»¥å‘ç°å…¶å®è¿™ä¸ªå‡½æ•°å°±æ˜¯SHA256åŠ å¯†ï¼Œé‚£ä¹ˆå°±çŸ¥é“nè¿™ä¸ªå‚æ•°å…¶å®å°±æ˜¯å¯¹å‚æ•°è¿›è¡Œäº†SHA256åŠ å¯†ã€‚</p>
<p>æ¥ç€æˆ‘ä»¬æ¥çœ‹ <code>encodeURIComponent(c.a.stringify(n))</code>,encodeURIComponent å°±æ˜¯JSè‡ªå¸¦çš„ä¸€ä¸ªç¼–ç å‡½æ•°ï¼Œé‚£ä¹ˆæˆ‘ä»¬åªéœ€è¦ç ´è§£é‡Œé¢çš„ c.a.stringify(n)ï¼Œè·Ÿè¿›å»ä¸€çœ‹<br>
<img src="http://119.3.13.71:7777/images/2020/07/10/2020-07-1014.24.02.png" alt="" loading="lazy"><br>
å°±æ˜¯ä¸€ä¸ªBase64 çš„åŠ å¯†ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„åŠ å¯†å°±å…¨éƒ¨è§£å‡ºæ¥ã€‚<br>
æ•´ä½“çš„æ€è·¯å°±æ˜¯å°†å­—ç¬¦ä¸²å…ˆè¿›è¡Œä¸€ä¸ªSHA256åŠ å¯†ï¼Œç„¶ååœ¨è¿›è¡Œä¸€ä¸ªBase64çš„ç¼–ç ï¼Œæœ€ååœ¨é€šè¿‡URLç¼–ç ä¸€ä¸‹ã€‚</p>
<p>å®Œæ•´çš„JSåŠ å¯†å·²ç»ä¸Šä¼ è‡³æˆ‘çš„<a href="https://github.com/Fizzyi/JS_PROJECT">github</a>.</p>
]]></content>
    </entry>
</feed>